<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskMaster Pro Max X - Enhanced</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <h1>TaskMaster Pro Max X</h1>
        <div class="theme-controls">
            <label class="switch" title="Toggle light/dark mode">
                <input type="checkbox" id="themeToggle">
                <span class="slider"></span>
            </label>
            <span class="switch-label" id="themeLabel">Light</span>
        </div>
    </nav>
    <div class="main-content">
        <div class="sidebar-left">
            <div class="card">
                <div class="section-heading">Add Task</div>
                <div class="input-group">
                    <input type="text" id="taskInput" class="task-input" placeholder="Enter your task..." maxlength="100" aria-label="Task input">
                    <select id="prioritySelect" class="priority-select" aria-label="Priority select">
                        <option value="low">Low Priority</option>
                        <option value="medium">Medium Priority</option>
                        <option value="high">High Priority</option>
                    </select>
                    <button id="addTaskBtn" class="add-btn" aria-label="Add Task">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                        </svg>
                        Add Task
                    </button>
                </div>
            </div>
        </div>
        <div class="center-content">
            <div class="section-heading">Your Tasks</div>
            <div class="search-sort-bar">
                <input type="text" id="searchInput" placeholder="Search tasks..." aria-label="Search tasks">
                <select id="sortSelect" aria-label="Sort tasks">
                    <option value="createdAt-desc">Newest First</option>
                    <option value="createdAt-asc">Oldest First</option>
                    <option value="priority-desc">Priority (High → Low)</option>
                    <option value="priority-asc">Priority (Low → High)</option>
                    <option value="alphabetical-asc">A → Z</option>
                    <option value="alphabetical-desc">Z → A</option>
                    <option value="completed-first">Completed First</option>
                    <option value="pending-first">Pending First</option>
                </select>
            </div>
            <div class="tasks-container" id="tasksContainer">
                <div class="empty-state">
                    <h3>No tasks yet!</h3>
                    <p>Add your first task to get started with productivity.</p>
                </div>
            </div>
            <div id="pagination" class="pagination"></div>
        </div>
        <div class="sidebar-right">
            <div class="card">
                <div class="section-heading">Filters & Stats</div>
                <div class="filters">
                    <button class="filter-btn active" data-filter="all">All Tasks</button>
                    <button class="filter-btn" data-filter="pending">Pending</button>
                    <button class="filter-btn" data-filter="completed">Completed</button>
                    <button class="filter-btn" data-filter="high">High Priority</button>
                    <button class="filter-btn" data-filter="medium">Medium Priority</button>
                    <button class="filter-btn" data-filter="low">Low Priority</button>
                </div>
                <hr class="divider" />
                <div class="stats">
                    <div class="stat-card">
                        <h3 id="totalTasks">0</h3>
                        <p>Total Tasks</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="completedTasks">0</h3>
                        <p>Completed</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="pendingTasks">0</h3>
                        <p>Pending</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="completionRate">0%</h3>
                        <p>Completion Rate</p>
                    </div>
                </div>
                <hr class="divider" />
                <button id="downloadReportBtn" class="download-btn" title="Download Report (PDF)" aria-label="Download Report">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="28" height="28">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <!-- Edit Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Edit Task</h3>
            <input type="text" id="editTaskInput" class="task-input" style="width: 100%; margin-bottom: 15px;">
            <select id="editPrioritySelect" class="priority-select" style="width: 100%; margin-bottom: 15px;">
                <option value="low">Low Priority</option>
                <option value="medium">Medium Priority</option>
                <option value="high">High Priority</option>
            </select>
            <button id="saveEditBtn" class="add-btn">Save Changes</button>
        </div>
    </div>
    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeConfirmModal">&times;</span>
            <h3 id="confirmModalTitle">Confirm Action</h3>
            <p id="confirmModalMessage">Are you sure?</p>
            <div style="display: flex; gap: 12px; margin-top: 18px; justify-content: flex-end;">
                <button id="cancelConfirmBtn" class="filter-btn">Cancel</button>
                <button id="okConfirmBtn" class="add-btn">Yes</button>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>